{"openapi":"3.0.0","info":{"title":"API SmartCity","version":"1.0.0"},"paths":{"/category/":{"get":{"tags":["Category"],"parameters":[{"name":"rowLimit","description":"Number of rows returned","in":"query","required":false,"schema":{"type":"integer"}},{"name":"offset","description":"Offset from the first line","in":"query","required":false,"schema":{"type":"integer"}},{"name":"searchElem","description":"Research element","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"$ref":"#/components/responses/CategoriesFound"},"400":{"$ref":"#/components/responses/CategoryBadParams"},"404":{"description":"No category found"},"500":{"description":"Server error"}}},"patch":{"tags":["Category"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/CategoryToUpdate"},"responses":{"204":{"$ref":"#/components/responses/CategoryUpdated"},"400":{"description":"JWT not valid or JSON body not correct","content":{"application/json":{"schema":{"oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/CategoryBadJSONBody"}]}}}},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"description":"No category found"},"409":{"$ref":"#/components/responses/CategoryAlreadyExist"},"500":{"description":"Server error"}}},"post":{"tags":["Category"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/CategoryToAdd"},"responses":{"201":{"$ref":"#/components/responses/CategoryAdded"},"400":{"description":"JWT not valid or JSON body not correct","content":{"application/json":{"schema":{"oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/CategoryBadJSONBody"}]}}}},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"409":{"$ref":"#/components/responses/CategoryAlreadyExist"},"500":{"description":"Server error"}}}},"/category/count":{"get":{"tags":["Category"],"security":[{"bearerAuth":[]}],"responses":{"200":{"$ref":"#/components/responses/CategoriesFound"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"description":"No category found"},"500":{"description":"Server error"}}}},"/category/{id}":{"get":{"tags":["Category"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"id","description":"category ID","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/CategoryFound"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"description":"Category not found"},"500":{"description":"Server error"}}}}},"components":{"schemas":{"Category":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string","description":"Category name"}}}},"responses":{"CategoryBadJSONBody":{"description":"The JSON body is not correct"},"CategoryBadParams":{"description":"The URL parameters are not valid"},"CategoryAdded":{"description":"The category has been added"},"CategoryAlreadyExist":{"description":"Category name already taken"},"CategoryUpdated":{"description":"The category has been updated"},"CategoriesFound":{"description":"Return an array of categories","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Category"}}}}},"CategoryNumberFound":{"description":"Return the number of categories","content":{"application/json":{"schema":{"type":"integer"}}}},"CategoryFound":{"description":"Return a category","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Category"}}}},"mustBeAdmin":{"description":"This request can only be done by an administrator"},"ErrorJWT":{"description":"JWT not valid"},"MissingJWT":{"description":"JWT not present"}},"requestBodies":{"CategoryToAdd":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"}}}}}},"CategoryToUpdate":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"}}}}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"tags":[]}